<!DOCTYPE html>
<html lang="en">

<style>

</style>
    
<head>
<meta charset="UTF-8">
<title> Digital Cognition - CodeMirror_Test_1 </title>
<link href="/static/CodeMirror_DC_June19/lib/codemirror.css" rel="stylesheet">
<link href="/static/CodeMirror_DC_June19/theme/abcdef.css" rel="stylesheet">

<script src="/static/CodeMirror_DC_June19/lib/codemirror.js"></script>
<script src="/static/CodeMirror_DC_June19/mode/sql/sql.js"></script>
<script src="/static/CodeMirror_DC_June19/addon/hint/sql-hint.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.js"></script>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.js"></script>

</head>

<body>
    <textarea name="" id="id_textArea_CodeMirror" > SELECT * FROM dc_codemirror;  </textarea>
    <div class="row text-center">
            <br>
            <button type="button" class="btn btn-primary" id="clear_editor">Clear Editor </button>
    </div>

    <script>
        var var_textArea = CodeMirror.fromTextArea(document.getElementById('id_textArea_CodeMirror'),
        {
            mode:"sql",
            styleActiveLine: true,
            theme:"abcdef",
            lineNumbers:true
        } // Close - OBJECT == Modes etc ..
        ); // Close - METHOD == .fromTextArea
        console.log("--HardCoded/PlaceHolder---var_textArea",var_textArea)
        var codeValue = var_textArea.doc.getValue();
        console.log("--HardCoded/PlaceHolder---codeValue",codeValue)

        var_textArea.on("change", function() {
                // https://codemirror.net/doc/upgrade_v3.html#events
                
                var codeValue1 = var_textArea.getValue();
                // OPTION -1 == Dirty hack 

                if (typeof codeValue1 !== 'undefined' && codeValue1.length > 12 ) 
                
                            {
                            console.log("---UserEntered_Updated-----codeValue1",codeValue1)
                            }
                // OPTION -2 == ??
            });


    // Clear editor's code
var clr_button_clicked = document.getElementById('clear_editor');
clr_button_clicked.onclick = function() {

  var_textArea.setValue("");
  var_textArea.focus();
};
</script>

</body>
</html>